import{ab as n,ac as s,W as r}from"./B65yq0Zd.js";const u=n("auth",{state:()=>({token:null,user:null,isAuthenticated:!1}),getters:{getToken:t=>t.token,getUser:t=>t.user,isLoggedIn:t=>t.isAuthenticated},actions:{initializeAuth(){const t=localStorage.getItem("token");t&&(this.token=t,this.isAuthenticated=!0)},async login(t){try{const{$api:e}=r(),o=await e.post("/auth/login",t);return this.token=o.data.token,this.isAuthenticated=!0,localStorage.setItem("token",this.token),await s().push("/portal"),o.data}catch(e){throw e}},logout(){this.token=null,this.user=null,this.isAuthenticated=!1,localStorage.removeItem("token"),s().push("/login")},checkAuth(){const t=localStorage.getItem("token");return t?(this.token=t,this.isAuthenticated=!0,!0):!1}}});export{u};
