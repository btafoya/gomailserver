const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C3MWxtdW.js","./vkYvzIJb.js","./DUWfgsoE.js"])))=>i.map(i=>d[i]);
import{f as et,Q as z,q as v,c as D,a as f,E as C,g as L,b as l,w as e,D as u,R as b,o as r,d as a,F as N,G as O,t as i,J as lt}from"./BUcYa01A.js";import{_ as at,a as nt}from"./CLuzgwfI.js";import{_ as ot}from"./BAwcxMjs.js";import{_ as ut}from"./TWhVIJrq.js";import{_ as st}from"./DDnXcZAG.js";import"./ZLFFUBy4.js";import"./ChGbc9Ds.js";import"./DAzf46mh.js";import"./CYi_maFl.js";const dt={class:"space-y-6"},it={class:"flex items-center"},rt={class:"ml-2 text-sm text-gray-700"},_t={class:"flex justify-end mb-6"},mt={key:0,class:"text-center py-8 text-gray-500"},ft={key:1},pt={class:"ml-2 text-sm text-gray-700"},St=et({__name:"index",async setup(vt){let _,k;const{listCircuitBreakers:ct}=([_,k]=z(()=>b(()=>import("./C3MWxtdW.js"),__vite__mapDeps([0,1]),import.meta.url)),_=await _,k(),_),{getCustomWarmupSchedules:M}=([_,k]=z(()=>b(()=>import("./DUWfgsoE.js"),__vite__mapDeps([2,1]),import.meta.url)),_=await _,k(),_),w=v([]),S=v([]),p=v(!1),g=v(!1),U=v(null),c=v(!1),y=v(null),E=async()=>{c.value=!0,y.value=null;try{const o=await M();S.value=o.data||[]}catch(o){y.value=o.message||"Failed to fetch custom schedules"}finally{c.value=!1}},P=o=>{U.value=o,g.value=!0,p.value=!1},j=o=>{U.value=o,g.value=!0,p.value=!1},q=async o=>{if(confirm("Delete warm-up schedule for "+o.domain+"?")){c.value=!0,y.value=null;try{const{deleteCustomWarmupSchedule:t}=await b(async()=>{const{deleteCustomWarmupSchedule:x}=await import("./DUWfgsoE.js");return{deleteCustomWarmupSchedule:x}},__vite__mapDeps([2,1]),import.meta.url);await t(o.id),await E()}catch(t){y.value=t.message||"Failed to delete schedule"}finally{c.value=!1}}},G=async()=>{lt("/admin/reputation/warmup-scheduler")},J=async()=>{if(U.value){c.value=!0,y.value=null;try{const{updateCustomWarmupSchedule:o}=await b(async()=>{const{updateCustomWarmupSchedule:t}=await import("./DUWfgsoE.js");return{updateCustomWarmupSchedule:t}},__vite__mapDeps([2,1]),import.meta.url);await o(U.value.id,U.value),await E(),g.value=!1}catch(o){y.value=o.message||"Failed to update schedule"}finally{c.value=!1}}};return(o,t)=>{const x=u("UCardTitle"),V=u("UCardHeader"),s=u("UTableHead"),T=u("UTableRow"),W=u("UTableHeader"),d=u("UTableCell"),B=nt,H=ot,m=ut,$=u("UTableBody"),A=at,F=u("UCardContent"),R=st,Q=u("Plus"),K=u("UIDialogTitle"),X=u("UIDialogHeader"),Y=u("UIDialogDescription"),Z=u("UIDialogFooter"),h=u("UIDialogContent"),tt=u("UIDialog");return r(),D("div",dt,[t[26]||(t[26]=f("div",null,[f("h1",{class:"text-3xl font-bold text-gray-900 mb-6"},"Warm-up Tracking"),f("p",{class:"text-gray-600 mt-2"},"Monitor domain warm-up progress and manage custom schedules")],-1)),w.value.length>0?(r(),C(R,{key:0,class:"mb-6"},{default:e(()=>[l(V,null,{default:e(()=>[l(x,null,{default:e(()=>[...t[2]||(t[2]=[a("Active Warm-ups",-1)])]),_:1})]),_:1}),l(F,null,{default:e(()=>[l(A,null,{default:e(()=>[l(W,null,{default:e(()=>[l(T,null,{default:e(()=>[l(s,null,{default:e(()=>[...t[3]||(t[3]=[a("Domain",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[4]||(t[4]=[a("Day",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[5]||(t[5]=[a("Daily Limit",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[6]||(t[6]=[a("Volume Sent",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[7]||(t[7]=[a("Utilization",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[8]||(t[8]=[a("Progress",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[9]||(t[9]=[a("Status",-1)])]),_:1})]),_:1})]),_:1}),l($,null,{default:e(()=>[(r(!0),D(N,null,O(w.value,n=>(r(),C(T,{key:`${n.domain}-${n.day}`},{default:e(()=>[l(d,null,{default:e(()=>[a(i(n.domain),1)]),_:2},1024),l(d,null,{default:e(()=>[a("Day "+i(n.day)+"/14",1)]),_:2},1024),l(d,null,{default:e(()=>[a(i(n.daily_limit||"-"),1)]),_:2},1024),l(d,null,{default:e(()=>[a(i(n.volume_sent||0),1)]),_:2},1024),l(d,null,{default:e(()=>[f("div",it,[l(B,{value:n.volume_sent/n.daily_limit*100,class:"h-2 w-full bg-blue-600"},null,8,["value"]),f("span",rt,i(Math.round(n.volume_sent/n.daily_limit*100))+"% ",1)])]),_:2},1024),l(d,null,{default:e(()=>[l(H,{variant:n.status==="completed"?"default":"secondary"},{default:e(()=>[a(i(n.status||"In Progress"),1)]),_:2},1032,["variant"])]),_:2},1024),l(d,null,{default:e(()=>[l(m,{size:"sm",onClick:I=>P(n),variant:"outline"},{default:e(()=>[...t[10]||(t[10]=[a(" View ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):L("",!0),f("div",_t,[l(m,{onClick:t[0]||(t[0]=n=>p.value=!0),variant:"default",size:"lg"},{default:e(()=>[l(Q,{class:"mr-2 h-4 w-4"}),t[11]||(t[11]=f("span",{class:"ml-2"},"Create Custom Schedule",-1))]),_:1})]),l(R,{class:"mb-6"},{default:e(()=>[l(V,null,{default:e(()=>[l(x,null,{default:e(()=>[...t[12]||(t[12]=[a("Custom Warm-up Schedules",-1)])]),_:1})]),_:1}),l(F,null,{default:e(()=>[S.value.length===0?(r(),D("div",mt," No custom schedules configured ")):(r(),D("div",ft,[l(A,null,{default:e(()=>[l(W,null,{default:e(()=>[l(T,null,{default:e(()=>[l(s,null,{default:e(()=>[...t[13]||(t[13]=[a("Domain",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[14]||(t[14]=[a("Template",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[15]||(t[15]=[a("Current Day",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[16]||(t[16]=[a("Progress",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[17]||(t[17]=[a("Status",-1)])]),_:1}),l(s,null,{default:e(()=>[...t[18]||(t[18]=[a("Actions",-1)])]),_:1})]),_:1})]),_:1}),l($,null,{default:e(()=>[(r(!0),D(N,null,O(S.value,n=>(r(),C(T,{key:n.id},{default:e(()=>[l(d,null,{default:e(()=>[a(i(n.domain),1)]),_:2},1024),l(d,null,{default:e(()=>[a(i(n.template_type),1)]),_:2},1024),l(d,null,{default:e(()=>[a("Day "+i(n.current_day)+"/"+i(n.days),1)]),_:2},1024),l(d,null,{default:e(()=>[l(B,{value:n.current_day/n.days*100,class:"h-2 w-full bg-blue-600"},null,8,["value"]),f("span",pt,i(Math.round(n.current_day/n.days*100))+"% ",1)]),_:2},1024),l(d,null,{default:e(()=>[l(H,{variant:n.completed?"default":"secondary"},{default:e(()=>[a(i(n.completed?"Completed":"In Progress"),1)]),_:2},1032,["variant"])]),_:2},1024),l(d,null,{default:e(()=>[l(m,{size:"sm",onClick:I=>P(n),variant:"outline"},{default:e(()=>[...t[19]||(t[19]=[a(" View ",-1)])]),_:1},8,["onClick"]),l(m,{size:"sm",onClick:I=>j(n),variant:"outline"},{default:e(()=>[...t[20]||(t[20]=[a(" Edit ",-1)])]),_:1},8,["onClick"]),l(m,{size:"sm",onClick:I=>q(n),variant:"destructive"},{default:e(()=>[...t[21]||(t[21]=[a(" Delete ",-1)])]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),p.value||g.value?(r(),C(tt,{key:1},{default:e(()=>[l(h,null,{default:e(()=>[l(X,null,{default:e(()=>[l(K,null,{default:e(()=>[a(i(p.value?"Create":"Edit")+" Custom Warm-up Schedule",1)]),_:1})]),_:1}),l(Y,null,{default:e(()=>[...t[22]||(t[22]=[a(" Configure domain warm-up parameters ",-1)])]),_:1}),l(Z,null,{default:e(()=>[l(m,{variant:"outline",onClick:t[1]||(t[1]=n=>{p.value=!1,g.value=!1})},{default:e(()=>[...t[23]||(t[23]=[a(" Cancel ",-1)])]),_:1}),p.value?(r(),C(m,{key:0,onClick:G},{default:e(()=>[...t[24]||(t[24]=[a(" Create ",-1)])]),_:1})):(r(),C(m,{key:1,onClick:J},{default:e(()=>[...t[25]||(t[25]=[a(" Save Changes ",-1)])]),_:1}))]),_:1})]),_:1})]),_:1})):L("",!0)])}}});export{St as default};
