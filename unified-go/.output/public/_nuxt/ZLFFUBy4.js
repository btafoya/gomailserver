import{a2 as p,l as v,q as F,p as f}from"./BUcYa01A.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const g=t=>typeof t<"u",h=()=>{};function I(t,r){function i(...o){return new Promise((e,n)=>{Promise.resolve(t(()=>r.apply(this,o),{fn:r,thisArg:this,args:o})).then(e).catch(n)})}return i}function b(t,r={}){let i,o,e=h;const n=u=>{clearTimeout(u),e(),e=h};let m;return u=>{const c=p(t),l=p(r.maxWait);return i&&n(i),c<=0||l!==void 0&&l<=0?(o&&(n(o),o=void 0),Promise.resolve(u())):new Promise((a,d)=>{e=r.rejectOnCancel?d:a,m=u,l&&!o&&(o=setTimeout(()=>{i&&n(i),o=void 0,a(m())},l)),i=setTimeout(()=>{o&&n(o),o=void 0,a(u())},c)})}}function z(t,r=200,i={}){return I(b(r,i),t)}const G=(t,r,i=!0)=>{const o=v("form-events",void 0),e=v("form-group",void 0),n=v("form-inputs",void 0);e&&(!i||t?.legend?e.inputId.value=void 0:t?.id&&(e.inputId.value=t?.id),n&&(n.value[e.name.value]=e.inputId.value));const m=F(!1);function s(a,d){o&&o.emit({type:a,path:d})}function u(){s("blur",e?.name.value),m.value=!0}function c(){s("change",e?.name.value)}const l=z(()=>{(m.value||e?.eagerValidation.value)&&s("input",e?.name.value)},300);return{inputId:f(()=>t?.id??e?.inputId.value),name:f(()=>t?.name??e?.name.value),size:f(()=>{const a=r.size[e?.size.value]?e?.size.value:null;return t?.size??a??r.default?.size}),color:f(()=>e?.error?.value?"red":t?.color),emitFormBlur:u,emitFormInput:l,emitFormChange:c}};export{g as i,G as u};
