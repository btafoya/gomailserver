import{_ as U}from"./TWhVIJrq.js";import{_ as w}from"./CYi_maFl.js";import{_ as M}from"./DDnXcZAG.js";import{K as V,L as B,q as f,y as z,c as m,a as e,b as l,w as d,D as _,o as p,d as i,t as a,M as u,N as x,O as N,C as R}from"./BUcYa01A.js";import{S as $}from"./DVRXQS1h.js";import"./DAzf46mh.js";import"./BDTT5SEM.js";const E={class:"border-b"},I={class:"flex h-16 items-center px-4"},L={class:"ml-auto"},F={class:"flex-1 p-4 md:p-8"},K={class:"flex items-center justify-between mb-6"},T={key:0,class:"text-center py-12"},A={key:1,class:"bg-destructive/10 text-destructive px-4 py-3 rounded-lg"},O={key:2,class:"space-y-4"},P={class:"flex items-center space-x-4"},j={class:"flex items-center space-x-2"},H={class:"border-t pt-4 space-y-3"},q={class:"grid grid-cols-2 gap-4 text-sm"},X={class:"font-medium"},G={class:"font-medium"},J={class:"font-medium"},Q={class:"font-medium"},W={class:"font-medium"},Y={class:"font-medium"},Z={class:"flex justify-end space-x-2"},ae={__name:"[id]",setup(h){const c=V();B();const s=f({id:null,name:"",description:"",max_mailbox_size:1024,max_messages_per_day:1e3,dkim_enabled:!0,user_count:0,alias_count:0,emails_sent:0,storage_used:0,created_at:null}),b=f(!1),v=f(null);z(()=>{const o=c.params.id;s.value={id:o,name:"example.com",description:"Primary domain for organization",max_mailbox_size:1024,max_messages_per_day:1e3,dkim_enabled:!0,user_count:3,alias_count:5,emails_sent:1234,storage_used:512*1024*1024,created_at:new Date("2024-01-01").toISOString()}});const g=o=>o<1024?`${o} B`:o<1048576?`${(o/1024).toFixed(1)} KB`:`${(o/1048576).toFixed(1)} MB`;return(o,t)=>{const r=U,y=w,C=_("UCardTitle"),k=_("UCardHeader"),D=_("UCardContent"),S=M;return p(),m("div",null,[e("div",E,[e("div",I,[t[7]||(t[7]=e("h1",{class:"text-lg font-semibold"},"Admin Console",-1)),e("div",L,[l(r,{variant:"outline",onClick:o.logout},{default:d(()=>[...t[6]||(t[6]=[i(" Logout ",-1)])]),_:1},8,["onClick"])])])]),e("div",F,[e("div",K,[t[9]||(t[9]=e("h2",{class:"text-3xl font-bold tracking-tight"},"Edit Domain",-1)),l(y,{to:"/admin/domains"},{default:d(()=>[l(r,{variant:"outline"},{default:d(()=>[...t[8]||(t[8]=[i(" Back to Domains ",-1)])]),_:1})]),_:1})]),l(S,{class:"max-w-2xl mx-auto"},{default:d(()=>[l(k,null,{default:d(()=>[l(C,null,{default:d(()=>[...t[10]||(t[10]=[i("Domain Configuration",-1)])]),_:1})]),_:1}),l(D,{class:"space-y-4"},{default:d(()=>[b.value?(p(),m("div",T,[...t[11]||(t[11]=[e("p",{class:"text-muted-foreground"},"Loading domain...",-1)])])):v.value?(p(),m("div",A," Error loading domain: "+a(v.value),1)):(p(),m("div",O,[e("div",null,[t[12]||(t[12]=e("label",{class:"text-sm font-medium"},"Domain Name",-1)),u(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=n=>s.value.name=n),disabled:"",class:"w-full px-3 py-2 border rounded-md bg-muted text-foreground"},null,512),[[x,s.value.name]]),t[13]||(t[13]=e("p",{class:"text-xs text-muted-foreground mt-1"},"Domain name cannot be changed",-1))]),e("div",null,[t[14]||(t[14]=e("label",{class:"text-sm font-medium"},"Description",-1)),u(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=n=>s.value.description=n),rows:"3",placeholder:"Optional description for this domain",class:"w-full px-3 py-2 border rounded-md bg-background text-foreground"},null,512),[[x,s.value.description]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"text-sm font-medium"},"Max Mailbox Size (MB)",-1)),u(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=n=>s.value.max_mailbox_size=n),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground"},null,512),[[x,s.value.max_mailbox_size]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"text-sm font-medium"},"Max Messages Per Day",-1)),u(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=n=>s.value.max_messages_per_day=n),class:"w-full px-3 py-2 border rounded-md bg-background text-foreground"},null,512),[[x,s.value.max_messages_per_day]])]),e("div",P,[e("label",j,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=n=>s.value.dkim_enabled=n),class:"rounded"},null,512),[[N,s.value.dkim_enabled]]),t[17]||(t[17]=e("span",{class:"text-sm font-medium"},"Enable DKIM Signing",-1))])]),t[27]||(t[27]=e("div",null,[e("label",{class:"text-sm font-medium"},"DNS Status"),e("div",{class:"grid grid-cols-2 gap-2 text-sm"},[e("div",null,[e("p",{class:"text-muted-foreground"},"MX Record"),e("p",{class:"font-medium text-green-600"},"✓ Verified")]),e("div",null,[e("p",{class:"text-muted-foreground"},"SPF Record"),e("p",{class:"font-medium text-green-600"},"✓ Verified")]),e("div",null,[e("p",{class:"text-muted-foreground"},"DKIM Record"),e("p",{class:"font-medium text-green-600"},"✓ Verified")]),e("div",null,[e("p",{class:"text-muted-foreground"},"DMARC Record"),e("p",{class:"font-medium text-yellow-600"},"⚠ Not Found")])])],-1)),e("div",H,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold"},"Domain Statistics",-1)),e("div",q,[e("div",null,[t[18]||(t[18]=e("p",{class:"text-muted-foreground"},"Domain ID",-1)),e("p",X,a(s.value.id),1)]),e("div",null,[t[19]||(t[19]=e("p",{class:"text-muted-foreground"},"Created",-1)),e("p",G,a(new Date(s.value.created_at).toLocaleDateString()),1)]),e("div",null,[t[20]||(t[20]=e("p",{class:"text-muted-foreground"},"Users",-1)),e("p",J,a(s.value.user_count||0),1)]),e("div",null,[t[21]||(t[21]=e("p",{class:"text-muted-foreground"},"Aliases",-1)),e("p",Q,a(s.value.alias_count||0),1)]),e("div",null,[t[22]||(t[22]=e("p",{class:"text-muted-foreground"},"Emails Sent",-1)),e("p",W,a(s.value.emails_sent||0),1)]),e("div",null,[t[23]||(t[23]=e("p",{class:"text-muted-foreground"},"Storage Used",-1)),e("p",Y,a(g(s.value.storage_used))+" / "+a(g(s.value.max_mailbox_size*1024*1024)),1)])])]),e("div",Z,[l(r,{variant:"outline",onClick:t[5]||(t[5]=n=>o.$router.push("/admin/domains"))},{default:d(()=>[...t[25]||(t[25]=[i(" Cancel ",-1)])]),_:1}),l(r,null,{default:d(()=>[l(R($),{class:"mr-2 h-4 w-4"}),t[26]||(t[26]=i(" Save Changes ",-1))]),_:1})])]))]),_:1})]),_:1})])])}}};export{ae as default};
