import{a8 as n}from"./BUcYa01A.js";import{u as i}from"./vkYvzIJb.js";const h=n("auth",{state:()=>({token:null,user:null,isAuthenticated:!1}),actions:{initializeAuth(){const t=localStorage.getItem("token");t&&(this.token=t,this.isAuthenticated=!0)},async login(t){try{const e=i(),o=await(await fetch(`${e}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();return this.token=o.token,this.isAuthenticated=!0,localStorage.setItem("token",this.token),window.location.href="/portal",o}catch(e){throw e}},logout(){this.token=null,this.user=null,this.isAuthenticated=!1,localStorage.removeItem("token"),window.location.href="/login"},checkAuth(){const t=localStorage.getItem("token");return t?(this.token=t,this.isAuthenticated=!0,!0):!1}}});export{h as u};
