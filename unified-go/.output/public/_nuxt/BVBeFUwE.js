import{_ as R}from"./Dzup3tpv.js";import{_ as V}from"./TWhVIJrq.js";import{_ as N}from"./DDnXcZAG.js";import{_ as P}from"./BAwcxMjs.js";import{_ as B}from"./BaZuvFz9.js";import{useReputationApi as E}from"./C3MWxtdW.js";import{c as M}from"./BDTT5SEM.js";import{L as O}from"./BZDPJRid.js";import{D as T}from"./74XN7BgN.js";import{f as G,q as _,c as i,a as s,b as a,g as m,w as l,D as b,o,d,F as k,C as S,t as n,E as K,G as z}from"./BUcYa01A.js";import"./ZLFFUBy4.js";import"./DAzf46mh.js";import"./CYi_maFl.js";import"./vkYvzIJb.js";const H=M("ShieldIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),q={class:"space-y-6"},J={key:0,class:"mt-6"},Y={class:"mb-4"},$={class:"flex items-center justify-between"},Q={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"space-y-3"},X={class:"flex items-center justify-between p-2 bg-white rounded border"},Z={key:0,class:"text-xs text-gray-600 mt-1"},ee={class:"flex items-center justify-between p-2 bg-white rounded border"},te={key:1,class:"text-xs text-gray-600 mt-1"},se={class:"flex items-center justify-between p-2 bg-white rounded border"},ae={key:2,class:"text-xs text-gray-600 mt-1"},le={class:"flex items-center justify-between p-2 bg-white rounded border"},ne={key:3,class:"text-xs text-gray-600 mt-1"},oe={class:"flex items-center justify-between p-2 bg-white rounded border"},ie={key:4,class:"text-xs text-gray-600 mt-1"},de={class:"space-y-3"},ue={class:"flex items-center justify-between p-2 bg-white rounded border"},re={key:0,class:"text-xs text-gray-600 mt-1"},me={class:"flex items-center justify-between p-2 bg-green-50 rounded border"},ve={class:"flex items-center justify-between p-2 bg-red-50 rounded border"},pe={key:1,class:"flex items-center justify-between p-2 bg-white rounded border"},ce={key:2,class:"text-xs text-gray-600 mt-1"},fe={class:"mt-6"},_e={key:1,class:"text-green-600"},xe={key:2,class:"list-disc list-decimal mt-2 space-y-1"},ge={class:"mt-6"},Ve=G({__name:"index",setup(ye){const{auditDomain:I}=E(),f=_(""),e=_(null),v=_(!1),p=_(!1),g=_(null),h=async()=>{if(!f.value){g.value="Please enter a domain to audit";return}v.value=!0,p.value=!0,g.value=null;try{const u=await I(f.value);e.value=u}catch(u){g.value=u.message||"Audit failed",v.value=!1,p.value=!1}finally{v.value=!1}},D=()=>{const u=JSON.stringify(e.value,null,2),t=new Blob([u],{type:"application/json"}),x=URL.createObjectURL(t),c=document.createElement("a");c.href=x,c.download=`audit-${f.value}.json`,c.click()},U=u=>u>=70?"default":u>=50?"secondary":"destructive";return(u,t)=>{const x=b("UCardTitle"),c=b("UCardHeader"),j=R,A=V,w=b("UCardContent"),C=N,r=P,L=B;return o(),i("div",q,[t[20]||(t[20]=s("div",null,[s("h1",{class:"text-3xl font-bold text-gray-900 mb-6"},"Domain Deliverability Audit"),s("p",{class:"text-gray-600 mt-2"}," Run comprehensive deliverability audits for your domains to identify reputation risks ")],-1)),a(C,{class:"mb-6"},{default:l(()=>[a(c,null,{default:l(()=>[a(x,null,{default:l(()=>[...t[1]||(t[1]=[d("Run Audit",-1)])]),_:1})]),_:1}),a(w,{class:"space-y-4"},{default:l(()=>[s("div",null,[t[2]||(t[2]=s("label",{class:"block text-sm font-medium text-gray-700"},"Domain to Audit",-1)),a(j,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=y=>f.value=y),type:"text",placeholder:"example.com",disabled:v.value||p.value},null,8,["modelValue","disabled"]),t[3]||(t[3]=s("p",{class:"text-xs text-gray-500 mt-1"}," Enter the domain you want to audit ",-1))]),s("div",null,[a(A,{onClick:h,disabled:!u.auditDomain||v.value||p.value,loading:v.value&&!p.value,size:"lg"},{default:l(()=>[!v.value&&!p.value?(o(),i(k,{key:0},[a(S(H),{class:"mr-2 h-5 w-5"}),t[4]||(t[4]=d(" Run Audit ",-1))],64)):(o(),i(k,{key:1},[a(S(O),{class:"mr-2 h-5 w-5 animate-spin"}),t[5]||(t[5]=d(" Auditing... ",-1))],64))]),_:1},8,["disabled","loading"])])]),_:1})]),_:1}),e.value?(o(),i("div",J,[a(C,null,{default:l(()=>[a(c,null,{default:l(()=>[a(x,null,{default:l(()=>[d("Audit Results for "+n(e.value.domain),1)]),_:1})]),_:1}),a(w,null,{default:l(()=>[s("div",Y,[s("div",$,[t[6]||(t[6]=s("span",{class:"text-2xl font-bold"},"Overall Deliverability Score",-1)),a(r,{variant:U(e.value.overall_score)},{default:l(()=>[d(n(e.value.overall_score)+"/100 ",1)]),_:1},8,["variant"])])]),s("div",Q,[s("div",null,[t[12]||(t[12]=s("h3",{class:"text-lg font-semibold text-gray-800 mb-3"},"Authentication Status",-1)),s("div",W,[s("div",X,[t[7]||(t[7]=s("span",{class:"text-sm font-medium"},"SPF",-1)),a(r,{variant:e.value.spf.passed?"default":"destructive"},{default:l(()=>[d(n(e.value.spf.passed?"PASS":"FAIL"),1)]),_:1},8,["variant"])]),e.value.spf.message?(o(),i("p",Z,n(e.value.spf.message),1)):m("",!0),s("div",ee,[t[8]||(t[8]=s("span",{class:"text-sm font-medium"},"DKIM",-1)),a(r,{variant:e.value.dkim.passed?"default":"destructive"},{default:l(()=>[d(n(e.value.dkim.passed?"PASS":"FAIL"),1)]),_:1},8,["variant"])]),e.value.dkim.message?(o(),i("p",te,n(e.value.dkim.message),1)):m("",!0),s("div",se,[t[9]||(t[9]=s("span",{class:"text-sm font-medium"},"DMARC",-1)),a(r,{variant:e.value.dmarc.passed?"default":"destructive"},{default:l(()=>[d(n(e.value.dmarc.passed?"PASS":"FAIL"),1)]),_:1},8,["variant"])]),e.value.dmarc.message?(o(),i("p",ae,n(e.value.dmarc.message),1)):m("",!0),s("div",le,[t[10]||(t[10]=s("span",{class:"text-sm font-medium"},"rDNS",-1)),a(r,{variant:e.value.rdns.passed?"default":"destructive"},{default:l(()=>[d(n(e.value.rdns.passed?"PASS":"FAIL"),1)]),_:1},8,["variant"])]),e.value.rdns.message?(o(),i("p",ne,n(e.value.rdns.message),1)):m("",!0),s("div",oe,[t[11]||(t[11]=s("span",{class:"text-sm font-medium"},"FCrDNS",-1)),a(r,{variant:e.value.fcrdns.passed?"default":"destructive"},{default:l(()=>[d(n(e.value.fcrdns.passed?"PASS":"FAIL"),1)]),_:1},8,["variant"])]),e.value.fcrdns.message?(o(),i("p",ie,n(e.value.fcrdns.message),1)):m("",!0)])]),s("div",null,[t[17]||(t[17]=s("h3",{class:"text-lg font-semibold text-gray-800 mb-3"},"Operational Status",-1)),s("div",de,[s("div",ue,[t[13]||(t[13]=s("span",{class:"text-sm font-medium"},"TLS Certificate",-1)),a(r,{variant:e.value.tls.passed?"default":"destructive"},{default:l(()=>[d(n(e.value.tls.passed?"Valid":"Invalid/Expired"),1)]),_:1},8,["variant"])]),e.value.tls.message?(o(),i("p",re,n(e.value.tls.message),1)):m("",!0),s("div",me,[t[14]||(t[14]=s("span",{class:"text-sm font-medium text-gray-700"},"postmaster@",-1)),a(r,{variant:e.value.postmaster_ok?"default":"destructive"},{default:l(()=>[d(n(e.value.postmaster_ok?"OK":"MISSING"),1)]),_:1},8,["variant"])]),s("div",ve,[t[15]||(t[15]=s("span",{class:"text-sm font-medium text-gray-700"},"abuse@",-1)),a(r,{variant:e.value.abuse_ok?"default":"destructive"},{default:l(()=>[d(n(e.value.abuse_ok?"OK":"MISSING"),1)]),_:1},8,["variant"])]),e.value.mta_sts?(o(),i("div",pe,[t[16]||(t[16]=s("span",{class:"text-sm font-medium"},"MTA-STS",-1)),a(r,{variant:e.value.mta_sts.passed?"default":"destructive"},{default:l(()=>[d(n(e.value.mta_sts.passed?"PASS":"FAIL"),1)]),_:1},8,["variant"])])):m("",!0),e.value.mta_sts.message?(o(),i("p",ce,n(e.value.mta_sts.message),1)):m("",!0)])])]),s("div",fe,[t[18]||(t[18]=s("h3",{class:"text-lg font-semibold text-gray-800 mb-3"},"Issues Summary",-1)),e.value.issues&&e.value.issues.length>0?(o(),K(L,{key:0,variant:"destructive"},{default:l(()=>[d(" Found "+n(e.value.issues.length)+" issue(s) that need attention ",1)]),_:1})):(o(),i("div",_e," All checks passed! Your domain is properly configured. ")),e.value.issues&&e.value.issues.length>0?(o(),i("ul",xe,[(o(!0),i(k,null,z(e.value.issues,(y,F)=>(o(),i("li",{key:F},[s("span",null,n(y),1)]))),128))])):m("",!0)]),s("div",ge,[a(A,{onClick:D,variant:"outline",disabled:p.value},{default:l(()=>[a(S(T),{class:"mr-2 h-4 w-4"}),t[19]||(t[19]=d(" Export Results ",-1))]),_:1},8,["disabled"])])]),_:1})]),_:1})])):m("",!0)])}}});export{Ve as default};
