import{_ as ke}from"./TWhVIJrq.js";import{_ as Te}from"./BAwcxMjs.js";import{a as Pe,_ as Ie}from"./CLuzgwfI.js";import{_ as Se}from"./DDnXcZAG.js";import{_ as Ae}from"./DQxZl4Gi.js";import{_ as Fe}from"./BaZuvFz9.js";import{useReputationPhase5Api as Be}from"./DUWfgsoE.js";import{R as Z}from"./D0UlAAtA.js";import{B as ee}from"./Df7C9SmC.js";import{T as te}from"./B0qfsVkZ.js";import{M as le,T as se,A as Ve}from"./mgdPaJuK.js";import{I as he}from"./CuaCQJ6X.js";import{L as ae}from"./BZDPJRid.js";import{C as He}from"./98tBQm4Q.js";import{f as ze,q as p,y as Re,c as m,a,E as c,g as v,b as e,w as t,F as I,G as S,C as f,D as d,o,d as n,t as r,n as R}from"./BUcYa01A.js";import"./DAzf46mh.js";import"./CYi_maFl.js";import"./ZLFFUBy4.js";import"./ChGbc9Ds.js";import"./vkYvzIJb.js";import"./BDTT5SEM.js";const Ge={class:"space-y-6"},je={class:"flex items-center justify-between"},Le={class:"flex gap-2"},Me={key:0},Ne={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Ee={class:"flex items-center justify-between"},Ke={class:"space-y-2"},$e={class:"flex items-center justify-between"},Oe={class:"flex items-end gap-2"},qe={class:"text-3xl font-bold"},We={class:"text-sm text-gray-500 mb-1"},Je={class:"space-y-2"},Qe={class:"flex items-center justify-between text-sm"},Xe={class:"font-medium"},Ye={class:"flex items-center justify-between text-sm"},Ze={key:0},et={class:"flex flex-wrap gap-1"},tt={class:"flex items-center gap-2"},lt={class:"text-sm font-medium"},st={class:"space-y-4 py-4"},at={class:"space-y-2"},nt={key:0,class:"space-y-6 py-4"},ot={class:"grid grid-cols-2 gap-4"},rt={class:"text-4xl font-bold"},it={class:"flex items-center gap-2"},ut={class:"text-4xl font-bold"},dt={class:"text-sm text-gray-500 mt-1"},ct={class:"grid grid-cols-2 gap-4"},ft={key:0},mt={class:"space-y-2"},_t={class:"flex items-center gap-4"},pt={class:"text-sm text-gray-500"},vt={key:3,class:"flex items-center justify-center py-12"},jt=ze({__name:"index",setup(gt){const{getLatestPredictions:ne,getDomainPredictions:oe,generatePredictions:re,getPredictionHistory:ie}=Be(),A=p([]),h=p([]),G=p(["example.com","mail.example.com"]),b=p(!1),F=p(!1),w=p(null),P=p(!1),B=p(!1),D=p({domain:""}),i=p(null),H=async()=>{b.value=!0,w.value=null;try{A.value=await ne(),h.value=await ie("")}catch(u){w.value=u.message||"Failed to load predictions"}finally{b.value=!1}},ue=()=>{D.value.domain=G.value[0]||"",P.value=!0},de=async()=>{if(D.value.domain){F.value=!0,w.value=null;try{await re(D.value.domain),P.value=!1,await H()}catch(u){w.value=u.message||"Failed to generate predictions"}finally{F.value=!1}}},ce=async u=>{try{i.value=await oe(u.domain),B.value=!0}catch(l){w.value=l.message||"Failed to load prediction details"}},fe=async()=>{await H()},me=u=>new Date(u).toLocaleString(),z=u=>u.charAt(0).toUpperCase()+u.slice(1),j=u=>{switch(u){case"high":return"default";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},_e=u=>u>=70?"default":u>=50?"secondary":"destructive",L=u=>{switch(u){case"improving":return"default";case"stable":return"secondary";case"declining":return"destructive";default:return"outline"}},M=(u,l)=>{const _=u-l;return _>5?"text-green-600":_>0?"text-green-500":_<-5?"text-red-600":_<0?"text-red-500":"text-gray-600"},pe=u=>u>=90?"bg-green-500":u>=75?"bg-yellow-500":"bg-red-500";return Re(()=>{H()}),(u,l)=>{const _=ke,U=d("UCardTitle"),g=Te,C=d("UCardHeader"),N=Pe,y=d("UCardContent"),x=Se,k=d("UTableHead"),E=d("UTableRow"),ve=d("UTableHeader"),T=d("UTableCell"),ge=d("UTableBody"),ye=Ie,K=d("UIDialogTitle"),$=d("UIDialogDescription"),O=d("UIDialogHeader"),xe=d("USelectValue"),be=d("USelectTrigger"),we=d("USelectItem"),Ue=d("USelectContent"),Ce=Ae,q=d("UAlertTitle"),W=d("UAlertDescription"),J=Fe,Q=d("UIDialogFooter"),X=d("UIDialogContent"),Y=d("UIDialog");return o(),m("div",Ge,[a("div",je,[l[7]||(l[7]=a("div",null,[a("h1",{class:"text-2xl font-bold"},"Reputation Predictions"),a("p",{class:"text-sm text-gray-500 mt-1"}," AI-powered reputation forecasting with confidence levels ")],-1)),a("div",Le,[e(_,{variant:"outline",onClick:fe,disabled:b.value},{default:t(()=>[b.value?(o(),c(f(Z),{key:0,class:"h-4 w-4 animate-spin mr-2"})):(o(),c(f(Z),{key:1,class:"h-4 w-4 mr-2"})),l[5]||(l[5]=n(" Refresh ",-1))]),_:1},8,["disabled"]),e(_,{onClick:ue,disabled:b.value},{default:t(()=>[e(f(ee),{class:"h-4 w-4 mr-2"}),l[6]||(l[6]=n(" Generate Predictions ",-1))]),_:1},8,["disabled"])])]),A.value.length>0?(o(),m("div",Me,[l[13]||(l[13]=a("h3",{class:"text-lg font-semibold mb-4"},"Latest Predictions",-1)),a("div",Ne,[(o(!0),m(I,null,S(A.value,s=>(o(),c(x,{key:s.id,class:"cursor-pointer hover:bg-gray-50 transition-colors",onClick:V=>ce(s)},{default:t(()=>[e(C,{class:"pb-3"},{default:t(()=>[a("div",Ee,[e(U,{class:"text-base"},{default:t(()=>[n(r(s.domain),1)]),_:2},1024),e(g,{variant:j(s.confidence)},{default:t(()=>[n(r(z(s.confidence))+" Confidence ",1)]),_:2},1032,["variant"])])]),_:2},1024),e(y,{class:"space-y-4"},{default:t(()=>[a("div",Ke,[a("div",$e,[l[8]||(l[8]=a("span",{class:"text-sm text-gray-500"},"Predicted Score",-1)),s.trend==="improving"?(o(),c(f(te),{key:0,class:"h-4 w-4 text-green-600"})):s.trend==="stable"?(o(),c(f(le),{key:1,class:"h-4 w-4 text-yellow-600"})):(o(),c(f(se),{key:2,class:"h-4 w-4 text-red-600"}))]),a("div",Oe,[a("span",qe,r(s.predicted_score),1),a("span",We,"in "+r(s.horizon_days)+" days",1)])]),a("div",Je,[a("div",Qe,[l[9]||(l[9]=a("span",{class:"text-gray-500"},"Current",-1)),a("span",Xe,r(s.current_score),1)]),e(N,{value:s.predicted_score,class:"h-2"},null,8,["value"]),a("div",Ye,[l[10]||(l[10]=a("span",{class:"text-gray-500"},"Predicted",-1)),a("span",{class:R(M(s.predicted_score,s.current_score))},r(s.predicted_score-s.current_score>0?"+":"")+" "+r((s.predicted_score-s.current_score).toFixed(1)),3)])]),s.factors&&s.factors.length>0?(o(),m("div",Ze,[l[11]||(l[11]=a("div",{class:"text-sm text-gray-500 mb-1"},"Key Factors",-1)),a("div",et,[(o(!0),m(I,null,S(s.factors.slice(0,3),(V,De)=>(o(),c(g,{key:De,variant:"outline",class:"text-xs"},{default:t(()=>[n(r(V),1)]),_:2},1024))),128)),s.factors.length>3?(o(),c(g,{key:0,variant:"outline",class:"text-xs"},{default:t(()=>[n(" +"+r(s.factors.length-3),1)]),_:2},1024)):v("",!0)])])):v("",!0),e(_,{variant:"outline",size:"sm",class:"w-full"},{default:t(()=>[l[12]||(l[12]=n(" View Details ",-1)),e(f(Ve),{class:"h-4 w-4 ml-2"})]),_:1})]),_:2},1024)]),_:2},1032,["onClick"]))),128))])])):b.value?v("",!0):(o(),c(x,{key:1},{default:t(()=>[e(y,{class:"text-center py-12"},{default:t(()=>[e(f(ee),{class:"h-12 w-12 mx-auto text-gray-400 mb-4"}),l[14]||(l[14]=a("p",{class:"text-gray-500"},"No predictions available",-1)),l[15]||(l[15]=a("p",{class:"text-sm text-gray-400 mt-1"}," Generate predictions for your domains to see reputation forecasts ",-1))]),_:1})]),_:1})),h.value.length>0?(o(),c(x,{key:2},{default:t(()=>[e(C,null,{default:t(()=>[e(U,null,{default:t(()=>[...l[16]||(l[16]=[n("Historical Predictions",-1)])]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(ye,null,{default:t(()=>[e(ve,null,{default:t(()=>[e(E,null,{default:t(()=>[e(k,null,{default:t(()=>[...l[17]||(l[17]=[n("Domain",-1)])]),_:1}),e(k,null,{default:t(()=>[...l[18]||(l[18]=[n("Predicted",-1)])]),_:1}),e(k,null,{default:t(()=>[...l[19]||(l[19]=[n("Actual",-1)])]),_:1}),e(k,null,{default:t(()=>[...l[20]||(l[20]=[n("Accuracy",-1)])]),_:1}),e(k,null,{default:t(()=>[...l[21]||(l[21]=[n("Horizon",-1)])]),_:1}),e(k,null,{default:t(()=>[...l[22]||(l[22]=[n("Date",-1)])]),_:1})]),_:1})]),_:1}),e(ge,null,{default:t(()=>[(o(!0),m(I,null,S(h.value,s=>(o(),c(E,{key:s.id},{default:t(()=>[e(T,{class:"font-medium"},{default:t(()=>[n(r(s.domain),1)]),_:2},1024),e(T,null,{default:t(()=>[e(g,{variant:_e(s.prediction_score)},{default:t(()=>[n(r(s.prediction_score.toFixed(1)),1)]),_:2},1032,["variant"])]),_:2},1024),e(T,null,{default:t(()=>[n(r(s.actual_score.toFixed(1)),1)]),_:2},1024),e(T,null,{default:t(()=>[a("div",tt,[e(N,{value:s.accuracy,class:R([pe(s.accuracy),"w-16"])},null,8,["value","class"]),a("span",lt,r(s.accuracy.toFixed(1))+"% ",1)])]),_:2},1024),e(T,null,{default:t(()=>[n(r(s.horizon_days)+" days ",1)]),_:2},1024),e(T,null,{default:t(()=>[n(r(me(s.created_at)),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})):v("",!0),e(Y,{open:P.value,"onUpdate:open":l[2]||(l[2]=s=>P.value=s)},{default:t(()=>[e(X,{class:"sm:max-w-md"},{default:t(()=>[e(O,null,{default:t(()=>[e(K,null,{default:t(()=>[...l[23]||(l[23]=[n("Generate Predictions",-1)])]),_:1}),e($,null,{default:t(()=>[...l[24]||(l[24]=[n(" Generate AI-powered reputation predictions for your domains. ",-1)])]),_:1})]),_:1}),a("div",st,[a("div",at,[l[25]||(l[25]=a("label",{class:"text-sm font-medium"},"Domain",-1)),e(Ce,{modelValue:D.value.domain,"onUpdate:modelValue":l[0]||(l[0]=s=>D.value.domain=s)},{default:t(()=>[e(be,null,{default:t(()=>[e(xe,{placeholder:"Select a domain"})]),_:1}),e(Ue,null,{default:t(()=>[(o(!0),m(I,null,S(G.value,s=>(o(),c(we,{key:s,value:s},{default:t(()=>[n(r(s),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e(J,null,{default:t(()=>[e(f(he),{class:"h-4 w-4"}),e(q,null,{default:t(()=>[...l[26]||(l[26]=[n("How It Works",-1)])]),_:1}),e(W,null,{default:t(()=>[...l[27]||(l[27]=[a("p",{class:"text-sm"}," The system analyzes historical reputation data, recent sending patterns, DMARC/SPF/DKIM alignment, and external feedback to predict your domain's reputation score in the future. ",-1)])]),_:1})]),_:1})]),e(Q,null,{default:t(()=>[e(_,{variant:"outline",onClick:l[1]||(l[1]=s=>P.value=!1)},{default:t(()=>[...l[28]||(l[28]=[n(" Cancel ",-1)])]),_:1}),e(_,{onClick:de,disabled:F.value||!D.value.domain},{default:t(()=>[F.value?(o(),c(f(ae),{key:0,class:"h-4 w-4 animate-spin mr-2"})):v("",!0),l[29]||(l[29]=n(" Generate ",-1))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),e(Y,{open:B.value,"onUpdate:open":l[4]||(l[4]=s=>B.value=s)},{default:t(()=>[e(X,{class:"sm:max-w-2xl max-h-[90vh] overflow-y-auto"},{default:t(()=>[e(O,null,{default:t(()=>[e(K,null,{default:t(()=>[n("Prediction Details - "+r(i.value?.domain),1)]),_:1}),e($,null,{default:t(()=>[...l[30]||(l[30]=[n(" Comprehensive breakdown of AI-powered reputation forecast ",-1)])]),_:1})]),_:1}),i.value?(o(),m("div",nt,[a("div",ot,[e(x,null,{default:t(()=>[e(C,{class:"pb-2"},{default:t(()=>[e(U,{class:"text-sm font-medium"},{default:t(()=>[...l[31]||(l[31]=[n("Current Score",-1)])]),_:1})]),_:1}),e(y,null,{default:t(()=>[a("div",rt,r(i.value.current_score),1)]),_:1})]),_:1}),e(x,null,{default:t(()=>[e(C,{class:"pb-2"},{default:t(()=>[e(U,{class:"text-sm font-medium"},{default:t(()=>[...l[32]||(l[32]=[n("Predicted Score",-1)])]),_:1})]),_:1}),e(y,null,{default:t(()=>[a("div",it,[a("div",ut,r(i.value.predicted_score),1),e(g,{variant:L(i.value.trend)},{default:t(()=>[i.value.trend==="improving"?(o(),c(f(te),{key:0,class:"h-4 w-4"})):i.value.trend==="stable"?(o(),c(f(le),{key:1,class:"h-4 w-4"})):(o(),c(f(se),{key:2,class:"h-4 w-4"}))]),_:1},8,["variant"])]),a("div",dt," in "+r(i.value.horizon_days)+" days ",1)]),_:1})]),_:1})]),a("div",ct,[e(x,null,{default:t(()=>[e(C,{class:"pb-2"},{default:t(()=>[e(U,{class:"text-sm font-medium"},{default:t(()=>[...l[33]||(l[33]=[n("Trend",-1)])]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(g,{variant:L(i.value.trend),class:"text-base"},{default:t(()=>[n(r(z(i.value.trend)),1)]),_:1},8,["variant"])]),_:1})]),_:1}),e(x,null,{default:t(()=>[e(C,{class:"pb-2"},{default:t(()=>[e(U,{class:"text-sm font-medium"},{default:t(()=>[...l[34]||(l[34]=[n("Confidence",-1)])]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(g,{variant:j(i.value.confidence),class:"text-base"},{default:t(()=>[n(r(z(i.value.confidence)),1)]),_:1},8,["variant"])]),_:1})]),_:1})]),i.value.factors&&i.value.factors.length>0?(o(),m("div",ft,[l[35]||(l[35]=a("h4",{class:"font-semibold mb-3"},"Key Factors",-1)),a("div",mt,[(o(!0),m(I,null,S(i.value.factors,(s,V)=>(o(),m("div",{key:V,class:"flex items-center gap-3 p-3 bg-gray-50 rounded"},[e(g,{variant:"outline"},{default:t(()=>[n(r(s),1)]),_:2},1024)]))),128))])])):v("",!0),e(x,null,{default:t(()=>[e(C,{class:"pb-2"},{default:t(()=>[e(U,{class:"text-sm font-medium"},{default:t(()=>[...l[36]||(l[36]=[n("Projected Change",-1)])]),_:1})]),_:1}),e(y,null,{default:t(()=>[a("div",_t,[a("div",{class:R(["text-3xl font-bold",M(i.value.predicted_score,i.value.current_score)])},r(i.value.predicted_score-i.value.current_score>0?"+":"")+" "+r((i.value.predicted_score-i.value.current_score).toFixed(1)),3),a("div",pt," points over "+r(i.value.horizon_days)+" days ",1)])]),_:1})]),_:1})])):v("",!0),e(Q,null,{default:t(()=>[e(_,{onClick:l[3]||(l[3]=s=>B.value=!1)},{default:t(()=>[...l[37]||(l[37]=[n("Close",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),b.value&&A.value.length===0?(o(),m("div",vt,[e(f(ae),{class:"h-8 w-8 animate-spin text-gray-400"})])):v("",!0),w.value?(o(),c(J,{key:4,variant:"destructive"},{default:t(()=>[e(f(He),{class:"h-4 w-4"}),e(q,null,{default:t(()=>[...l[38]||(l[38]=[n("Error",-1)])]),_:1}),e(W,null,{default:t(()=>[n(r(w.value),1)]),_:1})]),_:1})):v("",!0)])}}});export{jt as default};
