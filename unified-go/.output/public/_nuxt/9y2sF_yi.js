import{a7 as n,a9 as r,J as c}from"./BUcYa01A.js";var i={};const f=n(async(s,p)=>{let e,t;if(!(s.path==="/admin/setup"||typeof window<"u"&&localStorage.getItem("token")))try{const o=i.NUXT_PUBLIC_API_BASE||"http://localhost:8980/api/v1",a=([e,t]=r(()=>fetch(`${o}/setup/status`,{method:"GET",headers:{"Content-Type":"application/json"}})),e=await e,t(),e);if(!a.ok){console.error("Failed to check setup status:",a.status);return}if(!([e,t]=r(()=>a.json()),e=await e,t(),e).setup_complete)return c("/admin/setup")}catch(o){console.error("Setup redirect error:",o)}});export{f as default};
