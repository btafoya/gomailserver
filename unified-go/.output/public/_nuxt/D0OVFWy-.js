import{u as i}from"./vkYvzIJb.js";const d=()=>typeof window<"u"?localStorage.getItem("token"):null,o=()=>{const a=d();return{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a}`}:{}}},g=()=>{const a=i();return{getDomains:async()=>{const t=await fetch(`${a}/domains`,{method:"GET",headers:o()});if(!t.ok)throw new Error("Failed to fetch domains");return(await t.json()).data||[]},getDomain:async t=>{const e=await fetch(`${a}/domains/${t}`,{method:"GET",headers:o()});if(!e.ok)throw new Error("Failed to fetch domain");return(await e.json()).data},createDomain:async t=>{const e=await fetch(`${a}/domains`,{method:"POST",headers:o(),body:JSON.stringify(t)});if(!e.ok){const s=await e.json();throw new Error(s.message||"Failed to create domain")}return(await e.json()).data},updateDomain:async(t,e)=>{const n=await fetch(`${a}/domains/${t}`,{method:"PUT",headers:o(),body:JSON.stringify(e)});if(!n.ok){const r=await n.json();throw new Error(r.message||"Failed to update domain")}return(await n.json()).data},deleteDomain:async t=>{if(!(await fetch(`${a}/domains/${t}`,{method:"DELETE",headers:o()})).ok)throw new Error("Failed to delete domain")},generateDKIM:async t=>{const e=await fetch(`${a}/domains/${t}/dkim`,{method:"POST",headers:o()});if(!e.ok)throw new Error("Failed to generate DKIM keys");return e.json()}}};export{o as getAuthHeaders,d as getAuthToken,g as useDomainsApi};
