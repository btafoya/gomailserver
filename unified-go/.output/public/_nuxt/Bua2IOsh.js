const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./C3MWxtdW.js","./vkYvzIJb.js"])))=>i.map(i=>d[i]);
import{f as Y,Q as p,q as g,y as Z,c as f,a as u,b as t,w as e,D as r,R as v,o as c,d as l,F as tt,G as et,E as at,t as _,n as nt,L as ot}from"./BUcYa01A.js";import{_ as rt}from"./TWhVIJrq.js";import{_ as lt}from"./BAwcxMjs.js";import{_ as st}from"./CLuzgwfI.js";import{_ as it}from"./DDnXcZAG.js";import"./DAzf46mh.js";import"./CYi_maFl.js";import"./ZLFFUBy4.js";import"./ChGbc9Ds.js";const ut={class:"space-y-6"},ct={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6"},_t={class:"flex gap-3 mb-6"},dt={key:0,class:"flex justify-center py-8"},mt={key:1,class:"text-center py-8 text-gray-500"},pt={key:2,class:"overflow-x-auto"},ft={class:"mt-6"},Dt=Y({__name:"index",async setup(vt){let n,i;const{getScores:k}=([n,i]=p(()=>v(()=>import("./C3MWxtdW.js"),__vite__mapDeps([0,1]),import.meta.url)),n=await n,i(),n),{listCircuitBreakers:A}=([n,i]=p(()=>v(()=>import("./C3MWxtdW.js"),__vite__mapDeps([0,1]),import.meta.url)),n=await n,i(),n),{listAlerts:B}=([n,i]=p(()=>v(()=>import("./C3MWxtdW.js"),__vite__mapDeps([0,1]),import.meta.url)),n=await n,i(),n),{auditDomain:gt}=([n,i]=p(()=>v(()=>import("./C3MWxtdW.js"),__vite__mapDeps([0,1]),import.meta.url)),n=await n,i(),n),{getScore:yt}=([n,i]=p(()=>v(()=>import("./C3MWxtdW.js"),__vite__mapDeps([0,1]),import.meta.url)),n=await n,i(),n),y=g([]),x=g([]),C=g(!0),D=g(null);Z(async()=>{await Promise.all([R(),E(),L()]),C.value=!1});const R=async()=>{try{const o=await k();y.value=o||[]}catch(o){D.value=o.message||"Failed to fetch reputation scores",C.value=!1}},E=async()=>{try{const o=await A()}catch(o){console.error("Failed to fetch circuit breakers:",o)}},L=async()=>{try{const o=await B();x.value=o||[]}catch(o){console.error("Failed to fetch alerts:",o)}},S=()=>{T("/admin/reputation/audit")},V=()=>{T("/admin/reputation/circuit-breakers")},h=()=>{T("/admin/reputation/warmup")},T=o=>{ot().push(o)},P=o=>o>=70?"default":o>=50?"secondary":"destructive",H=o=>o>0?"text-green-600":o<0?"text-red-600":"text-gray-600";return(o,a)=>{const I=r("DeliverabilityCard"),F=r("CircuitBreakersCard"),N=r("Shield"),b=rt,O=r("AlertTriangle"),M=r("TrendingUp"),W=r("UCardTitle"),z=r("UCardHeader"),j=r("Loader2"),q=r("AlertCircle"),d=r("UTableHead"),U=r("UTableRow"),G=r("UTableHeader"),m=r("UTableCell"),w=lt,Q=r("UTableBody"),$=st,J=r("UCardContent"),K=it,X=r("RecentAlertsTimeline");return c(),f("div",ut,[a[10]||(a[10]=u("div",null,[u("h1",{class:"text-3xl font-bold text-gray-900 mb-6"},"Reputation Management"),u("p",{class:"text-gray-600"},"Monitor and manage your email server's reputation")],-1)),u("div",ct,[t(I),t(F)]),u("div",_t,[t(b,{onClick:S,size:"lg"},{default:e(()=>[t(N,{class:"mr-2 h-5 w-5"}),a[0]||(a[0]=l(" Run Domain Audit ",-1))]),_:1}),t(b,{onClick:V,variant:"outline"},{default:e(()=>[t(O,{class:"mr-2 h-5 w-5"}),a[1]||(a[1]=l(" Circuit Breakers ",-1))]),_:1}),t(b,{onClick:h,variant:"outline"},{default:e(()=>[t(M,{class:"mr-2 h-5 w-5"}),a[2]||(a[2]=l(" Warm-up ",-1))]),_:1})]),t(K,{class:"mb-6"},{default:e(()=>[t(z,null,{default:e(()=>[t(W,null,{default:e(()=>[...a[3]||(a[3]=[l("Domain Reputation Scores",-1)])]),_:1})]),_:1}),t(J,null,{default:e(()=>[C.value?(c(),f("div",dt,[t(j,{class:"h-8 w-8 text-blue-600 animate-spin"})])):y.value.length===0?(c(),f("div",mt,[t(q,{class:"h-12 w-12 mb-4"}),a[4]||(a[4]=u("p",{class:"text-lg"},"No reputation scores available",-1))])):(c(),f("div",pt,[t($,null,{default:e(()=>[t(G,null,{default:e(()=>[t(U,null,{default:e(()=>[t(d,null,{default:e(()=>[...a[5]||(a[5]=[l("Domain",-1)])]),_:1}),t(d,null,{default:e(()=>[...a[6]||(a[6]=[l("Score",-1)])]),_:1}),t(d,null,{default:e(()=>[...a[7]||(a[7]=[l("Trend",-1)])]),_:1}),t(d,null,{default:e(()=>[...a[8]||(a[8]=[l("Circuit Breaker",-1)])]),_:1}),t(d,null,{default:e(()=>[...a[9]||(a[9]=[l("Warm-up",-1)])]),_:1})]),_:1})]),_:1}),t(Q,null,{default:e(()=>[(c(!0),f(tt,null,et(y.value,s=>(c(),at(U,{key:s.domain},{default:e(()=>[t(m,null,{default:e(()=>[l(_(s.domain),1)]),_:2},1024),t(m,null,{default:e(()=>[t(w,{variant:P(s.reputation_score)},{default:e(()=>[l(_(s.reputation_score),1)]),_:2},1032,["variant"])]),_:2},1024),t(m,null,{default:e(()=>[u("span",{class:nt(H(s.trend))},_(s.trend>0?"+":"")+_(s.trend)+"% ",3)]),_:2},1024),t(m,null,{default:e(()=>[t(w,{variant:s.circuit_breaker_active?"destructive":"secondary"},{default:e(()=>[l(_(s.circuit_breaker_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),_:2},1024),t(m,null,{default:e(()=>[t(w,{variant:s.warm_up_active?"default":"secondary"},{default:e(()=>[l(_(s.warm_up_active?`Day ${s.warm_up_day}`:"None"),1)]),_:2},1032,["variant"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]))]),_:1})]),_:1}),u("div",ft,[t(X,{alerts:x.value},null,8,["alerts"])])])}}});export{Dt as default};
